{% extends "base.html" %}

{% block title %}Regions{% endblock %}

{% block content %}
<header class="page-header">
    <h1>Available Regions</h1>
    <p>Select a region card to inspect the catalog of products offered there.</p>
</header>

{% if !regions.is_empty() %}
<section>
    <h2>Regions</h2>
    <p>Click any region to open <code>/products?region_id=&lt;id&gt;</code> with the relevant inventory.</p>
    <div class="region-grid" role="list">
        {% for region in regions %}
        <a class="region-card" role="listitem" href="{{ base_url }}/products?region_id={{ region.id }}">
            <div class="region-heading">
                <h3>{{ region.name }}</h3>
                    {% if region.abbr.is_some() %}
                    <span class="region-chip">{{ region.abbr.as_ref().unwrap() }}</span>
                    {% endif %}
            </div>
            <p class="region-subtitle">Region ID {{ region.id }}</p>
            {% if region.description.is_some() %}
            <p class="region-description">{{ region.description.as_ref().unwrap() }}</p>
            {% endif %}
            <dl class="region-metrics">
                <div>
                    <dt>Status</dt>
                    {% if region.is_active %}
                    <dd>Active</dd>
                    {% else %}
                    <dd>Disabled</dd>
                    {% endif %}
                </div>
                <div>
                    <dt>Premium tier</dt>
                    {% if region.is_premium %}
                    <dd>Yes</dd>
                    {% else %}
                    <dd>No</dd>
                    {% endif %}
                </div>
                {% if region.ram_threshold_gb.is_some() %}
                <div>
                    <dt>RAM threshold</dt>
                    <dd>{{ region.ram_threshold_gb.as_ref().unwrap() }} GB</dd>
                </div>
                {% endif %}
                {% if region.disk_threshold_gb.is_some() %}
                <div>
                    <dt>Disk threshold</dt>
                    <dd>{{ region.disk_threshold_gb.as_ref().unwrap() }} GB</dd>
                </div>
                {% endif %}
            </dl>
                {% if region.tags.is_some() %}
                <footer class="region-footer">
                    <p>{{ region.tags.as_ref().unwrap() }}</p>
                </footer>
                {% endif %}
            <span class="region-cta" aria-hidden="true">Browse products â†’</span>
        </a>
        {% endfor %}
    </div>
</section>
{% else %}
<p>No regions found.</p>
{% endif %}
{% endblock %}