{% extends "base.html" %}

{% block title %}Regions{% endblock %}

{% block content %}
<header class="page-header">
    <div>
        <h1>Available Regions</h1>
        <p>Select a region card to inspect the catalog of products offered there.</p>
    </div>
</header>

{% if regions %}
<section aria-labelledby="regions-heading" class="surface">
    <header>
        <h2 id="regions-heading">Regions</h2>
        <p>Click any region to open <code>/products?region_id=&lt;id&gt;</code> with the relevant inventory.</p>
    </header>
    <div class="region-grid" role="list">
        {% for region in regions %}
        <a class="region-card" role="listitem" href="{{ url_for('products', region_id=region.id) }}" data-active="{{ 'true' if region.isActive else 'false' }}">
            <header>
                <div class="region-heading">
                    <h3>{{ region.name }}</h3>
                    <span class="region-chip">{{ region.abbr }}</span>
                </div>
                <p class="region-subtitle">Region ID {{ region.id }}</p>
            </header>
            {% if region.description %}
            <p class="region-description">{{ region.description }}</p>
            {% endif %}
            <dl class="region-metrics">
                <div>
                    <dt>Status</dt>
                    <dd>{{ 'Active' if region.isActive else 'Disabled' }}</dd>
                </div>
                <div>
                    <dt>Premium tier</dt>
                    <dd>{{ 'Yes' if region.isPremium else 'No' }}</dd>
                </div>
                {% if region.config and region.config.ramThresholdInGB %}
                <div>
                    <dt>RAM threshold</dt>
                    <dd>{{ region.config.ramThresholdInGB }} GB</dd>
                </div>
                {% endif %}
                {% if region.config and region.config.diskThresholdInGB %}
                <div>
                    <dt>Disk threshold</dt>
                    <dd>{{ region.config.diskThresholdInGB }} GB</dd>
                </div>
                {% endif %}
            </dl>
            {% if region.tags %}
            <footer class="region-footer">
                <p>Highlights:
                    {% if region.tags is string %}
                    {{ region.tags }}
                    {% else %}
                    {{ region.tags | join(', ') }}
                    {% endif %}
                </p>
            </footer>
            {% endif %}
            <span class="region-cta" aria-hidden="true">Browse products â†’</span>
        </a>
        {% endfor %}
    </div>
</section>
{% else %}
<p>No regions found.</p>
{% endif %}
{% endblock %}