{% extends "base.html" %}

{% block title %}Operating Systems{% endblock %}

{% block content %}
<header class="page-header">
    <h1>Operating Systems</h1>
    <p>Images available for provisioning. Review architecture, family, and requirements at a glance.</p>
</header>

<section>
    <h2>OS catalog</h2>
    <p>Select an image during provisioning or change-OS workflows.</p>
    {% if os_list.len() > 0 %}
    <div class="data-grid">
        {% for os in os_list %}
        <article class="data-card">
            <h3>{{ os.name }}</h3>
            <p class="os-family">{% if os.family != "" %}{{ os.family }}{% else %}Unknown family{% endif %}</p>
            <dl class="os-attributes">
                <div>
                    <dt>Architecture</dt>
                    <dd>{% if os.arch.is_some() %}{{ os.arch.as_ref().unwrap() }}{% else %}n/a{% endif %}</dd>
                </div>
                <div>
                    <dt>Min RAM</dt>
                    <dd>{% if os.min_ram.is_some() %}{{ os.min_ram.as_ref().unwrap() }}{% else %}n/a{% endif %}</dd>
                </div>
                {% if os.version.is_some() %}
                <div>
                    <dt>Version</dt>
                    <dd>{{ os.version.as_ref().unwrap() }}</dd>
                </div>
                {% endif %}
                {% if os.disk.is_some() %}
                <div>
                    <dt>Disk</dt>
                    <dd>{{ os.disk.as_ref().unwrap() }}</dd>
                </div>
                {% endif %}
            </dl>
            {% if os.description.is_some() %}
            <p class="os-description">{{ os.description.as_ref().unwrap() }}</p>
            {% endif %}
        </article>
        {% endfor %}
    </div>
    {% else %}
    <p>ðŸ’¿ No operating systems were returned by the API.</p>
    {% endif %}
</section>
{% endblock %}