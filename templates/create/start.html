{% extends "base.html" %}

{% block title %}Create · Step 1{% endblock %}

{% block content %}
<header class="page-header">
    <div>
        <h1>Provision New Instance</h1>
        <p>Step 1 of 7 · Select region, instance class, and plan type</p>
    </div>
</header>

<form method="get" action="{{ url_for('create_step_2') }}" class="surface" novalidate>
    <div class="fields-grid">
        <fieldset class="form-section">
            <legend class="form-label">Region</legend>
            <label for="region" class="sr-only">Deployment region</label>
            <select id="region" name="region" required>
                {% for region in regions %}
                <option value="{{ region.id }}" {% if form_data.region == region.id %}selected{% endif %}>{{ region.name }}</option>
                {% endfor %}
            </select>
            <p class="help-text">Only active regions are listed.</p>
        </fieldset>
        <fieldset class="form-section">
            <legend class="form-label">Instance class</legend>
            <label for="instance_class" class="sr-only">Instance class</label>
            <select id="instance_class" name="instance_class">
                <option value="default" {% if form_data.instance_class == 'default' %}selected{% endif %}>Default</option>
                <option value="cpu-optimized" {% if form_data.instance_class == 'cpu-optimized' %}selected{% endif %}>CPU Optimized</option>
                <option value="gpu-provided" {% if form_data.instance_class == 'gpu-provided' %}selected{% endif %}>GPU Provided</option>
            </select>
            <p class="help-text">Use custom class types for specialised workloads.</p>
        </fieldset>
    </div>

    <fieldset class="form-section">
        <legend class="form-label">Plan type</legend>
        <div class="radio-group">
            <label>
                <input type="radio" name="plan_type" value="fixed" {% if form_data.plan_type == 'fixed' %}checked{% endif %}>
                <span>Use existing product</span>
            </label>
            <label>
                <input type="radio" name="plan_type" value="custom" {% if form_data.plan_type == 'custom' %}checked{% endif %}>
                <span>Custom resources</span>
            </label>
        </div>
        <p class="help-text">Products provide curated CPU, RAM, and disk footprints. Custom plans let you define exact limits.</p>
    </fieldset>

    <footer class="form-actions">
        <button type="submit">Continue</button>
    </footer>
</form>
{% endblock %}
